Manual install (for now)

apt update
apt ugprade

reboot

apt install python3-pip git python3-pyaudio python3-scipy

pip3 install sa818

reboot

git clone https://github.com/waveshare/WM8960-Audio-HAT
cd WM8960-Audio-HAT/

./install.sh

perl -i -pe 's/dtoverlay=vc4-kms-v3d/dtoverlay=vc4-kms-v3d,noaudio/g' /boot/config.txt
perl -i -pe 's/console=serial0.115200//g'  /boot/cmdline.txt

cp hotspot /usr/sbin
chmod a+x /usr/sbin/hotspot

cp hotspot.service /lib/systemd/system/hotspot.service
systemctl enable hotspot
systemctl start hotspot

reboot

apt install build-essential g++ make cmake libsigc++-2.0-dev php8.0 libgsm1-dev libudev-dev libpopt-dev tcl-dev libgpiod-dev gpiod libgcrypt20-dev libspeex-dev libasound2-dev alsa-utils libjsoncpp-dev libopus-dev rtl-sdr libcurl4-openssl-dev libogg-dev librtlsdr-dev groff doxygen graphviz python3-serial toilet -y

groupadd svxlink
useradd -g svxlink -d /etc/svxlink svxlink
usermod -aG audio,nogroup,svxlink,plugdev svxlink
usermod -aG gpio svxlink

git clone https://github.com/sm0svx/svxlink.git
mkdir svxlink/src/build

cd svxlink/src/build/

cmake -DUSE_QT=OFF -DCMAKE_INSTALL_PREFIX=/usr -DSYSCONF_INSTALL_DIR=/etc \ -DLOCAL_STATE_DIR=/var -DWITH_SYSTEMD=ON  ..
make
make doc
make install
	
cd /usr/share/svxlink/events.d
ln -s . local

ldconfig

cd /usr/share/svxlink/sounds
wget https://github.com/sm0svx/svxlink-sounds-en_US-heather/releases/download/19.09/svxlink-sounds-en_US-heather-16k-19.09.tar.bz2
tar -xvjf svxlink-sounds-en_US-heather-16k-19.09.tar.bz2
rm *.tar.bz2
ln -s en_US-heather-16k/ en_US

cp svxlink_rotate /usr/sbin
chmod a+x /usr/sbin/svxlink_rotate

ln -s /usr/sbin/svxlink_rotate /etc/cron.daily/svxlink_rotate

cp svxlink.service /lib/systemd/system/svxlink.service

cat gpio.conf > /etc/svxlink/gpio.conf
cat svxlink.conf > /etc/svxlink/svxlink.conf
cat svxlink_gpio_up > /usr/sbin/svxlink_gpio_up

systemctl enable svxlink_gpio_setup
systemctl enable svxlink

systemctl start svxlink_gpio_setup.service
systemctl start svxlink.service







